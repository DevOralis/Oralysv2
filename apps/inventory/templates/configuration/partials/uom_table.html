<div class="card table-card mb-4">
  <!-- <div class="card-header card-header-primary">
    <i class="fa-solid fa-gear me-2"></i>
    Configuration des unités de mesure
  </div> --> 
  <div class="card-body">
    <div class="row align-items-center mb-3">
      <!-- Search-->
      <div class="col-12 col-md-5">
        <div class="input-group">
          <span class="input-group-text input-group-text-primary">
            <i class="fas fa-search"></i>
          </span>
          <input type="search" class="form-control search-input-primary"
                 placeholder="Rechercher par libellé ou symbole..."
                 oninput="performSearch('uom', this.value, 'units-tbody')" />
        </div>
      </div>
      <!-- Spacer between search and button -->
      <div class="col-md-4 d-none d-md-block"></div>
      <!-- Button-->
      {% if request.session.user.permissions.inventory.write %}
      <div class="col-12 col-md-3 d-flex justify-content-md-end mt-2 mt-md-0">
        <button id="btn-add-uom" class="btn btn-primary w-100 w-md-auto text-nowrap px-3">
          <i class="fas fa-plus"></i>
          <span>Ajouter une unité</span>
        </button>
      </div>
      {% endif %}
   </div>

    <table class="table table-hover table-responsive table-striped" style="box-shadow: none;">
    <thead class="table-light">
      <tr class="main-row">
        <th class="sortable" data-sort-field="label">Libellé</th>
        <th class="sortable" data-sort-field="symbole">Symbole</th>
        {% if request.session.user.permissions.inventory.update and request.session.user.permissions.inventory.delete %}
        <th class="text-center">Actions</th>
        {% endif %}
      </tr>
    </thead>
    <tbody id="units-tbody" data-entity="uom">
      {% for uom in uoms %}
      <!-- UOM -->
      <tr data-id="{{ uom.pk }}" data-label="{{ uom.label }}" data-symbole="{{ uom.symbole }}">
        <td data-label="Libellé">{{ uom.label }}</td>
        <td data-label="Symbole">{{ uom.symbole }}</td>
        {% if request.session.user.permissions.inventory.update and request.session.user.permissions.inventory.delete %}
        <td data-label="Actions" class="text-center">
          <button type="button" class="btn btn-sm btn-light btn-edit-config" data-entity="uom" title="Modifier"><i class="fas fa-edit"></i></button>
          <button type="button" class="btn btn-sm btn-light text-danger btn-uom-delete" title="Supprimer"><i class="fas fa-trash-alt"></i></button>
        </td>
        {% endif %}
      </tr>
      {% empty %}
      <tr><td colspan="3" class="text-center text-muted">Aucune unité</td></tr>
      {% endfor %}
    </tbody>
    </table>
      {% if uoms.has_other_pages %}
      <nav aria-label="Navigation pages" id="uom-pagination" class="mt-3">
        <ul class="pagination justify-content-center flex-wrap">
          {% if uoms.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?uom_page={{ uoms.previous_page_number }}&tab=uom{% if request.GET.category_page %}&category_page={{ request.GET.category_page }}{% endif %}{% if request.GET.product_type_page %}&product_type_page={{ request.GET.product_type_page }}{% endif %}{% if request.GET.operation_type_page %}&operation_type_page={{ request.GET.operation_type_page }}{% endif %}{% if request.GET.location_type_page %}&location_type_page={{ request.GET.location_type_page }}{% endif %}{% if request.GET.location_page %}&location_page={{ request.GET.location_page }}{% endif %}" aria-label="Previous">
              <i class="fas fa-chevron-left d-block d-sm-none"></i><span class="d-none d-sm-block">&laquo; Préc</span></a>
          </li>
          {% endif %}
          {% for num in uoms.paginator.page_range %}
          <li class="page-item {% if uoms.number == num %}active{% endif %}">
            <a class="page-link" href="?uom_page={{ num }}&tab=uom{% if request.GET.category_page %}&category_page={{ request.GET.category_page }}{% endif %}{% if request.GET.product_type_page %}&product_type_page={{ request.GET.product_type_page }}{% endif %}{% if request.GET.operation_type_page %}&operation_type_page={{ request.GET.operation_type_page }}{% endif %}{% if request.GET.location_type_page %}&location_type_page={{ request.GET.location_type_page }}{% endif %}{% if request.GET.location_page %}&location_page={{ request.GET.location_page }}{% endif %}">{{ num }}</a>
          </li>
          {% endfor %}
          {% if uoms.has_next %}
          <li class="page-item">
            <a class="page-link" href="?uom_page={{ uoms.next_page_number }}&tab=uom{% if request.GET.category_page %}&category_page={{ request.GET.category_page }}{% endif %}{% if request.GET.product_type_page %}&product_type_page={{ request.GET.product_type_page }}{% endif %}{% if request.GET.operation_type_page %}&operation_type_page={{ request.GET.operation_type_page }}{% endif %}{% if request.GET.location_type_page %}&location_type_page={{ request.GET.location_type_page }}{% endif %}{% if request.GET.location_page %}&location_page={{ request.GET.location_page }}{% endif %}">
              <i class="fas fa-chevron-right d-block d-sm-none"></i><span class="d-none d-sm-block">Suiv &raquo;</span></a>
          </li>
          {% endif %}
        </ul>
      </nav>
      {% endif %}
  </div>
</div>