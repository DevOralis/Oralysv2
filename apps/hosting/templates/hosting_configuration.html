{% extends 'base.html' %}
{% load static %}

{% block title %}Oralys - Configuration Hébergement{% endblock %}

{% block menu %}
  {% include 'hosting_menu.html' %}
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'vendor/js/bootstrap.bundle.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Check for success messages from Django
  {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'success' %}
        Swal.fire({
          icon: 'success',
          title: 'Succès !',
          text: '{{ message|escapejs }}',
          timer: 3000,
          showConfirmButton: false,
          toast: true,
          position: 'top-end'
        });
      {% elif message.tags == 'error' %}
        Swal.fire({
          icon: 'error',
          title: 'Erreur !',
          text: '{{ message|escapejs }}',
          confirmButtonColor: '#3085d6'
        });
      {% endif %}
    {% endfor %}
  {% endif %}

  // Room Types Functions
  document.getElementById('showAddRoomTypeBtn').addEventListener('click', function() {
    const addCard = document.getElementById('addRoomTypeCard');
    const isHidden = addCard.style.display === 'none';
    addCard.style.display = isHidden ? 'block' : 'none';
    this.innerHTML = isHidden ? 
      '<i class="fas fa-times"></i> <span class="d-none d-lg-inline ms-1">Annuler</span>' : 
      '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
    
    if (isHidden) {
      document.getElementById('addRoomTypeName').focus();
      // Hide edit form if open
      document.getElementById('editRoomTypeCard').style.display = 'none';
      // Scroll to the form
      addCard.scrollIntoView({ behavior: 'smooth' });
    }
  });

  document.getElementById('cancelAddRoomTypeBtn').addEventListener('click', function() {
    document.getElementById('addRoomTypeCard').style.display = 'none';
    document.getElementById('showAddRoomTypeBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
  });

  document.getElementById('cancelEditRoomTypeBtn').addEventListener('click', function() {
    document.getElementById('editRoomTypeCard').style.display = 'none';
  });

  // Bed Status Functions
  document.getElementById('showAddBedStatusBtn').addEventListener('click', function() {
    const addCard = document.getElementById('addBedStatusCard');
    const isHidden = addCard.style.display === 'none';
    addCard.style.display = isHidden ? 'block' : 'none';
    this.innerHTML = isHidden ? 
      '<i class="fas fa-times"></i> <span class="d-none d-lg-inline ms-1">Annuler</span>' : 
      '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
    
    if (isHidden) {
      document.getElementById('addBedStatusName').focus();
      // Hide edit form if open
      document.getElementById('editBedStatusCard').style.display = 'none';
      // Scroll to the form
      addCard.scrollIntoView({ behavior: 'smooth' });
    }
  });

  document.getElementById('cancelAddBedStatusBtn').addEventListener('click', function() {
    document.getElementById('addBedStatusCard').style.display = 'none';
    document.getElementById('showAddBedStatusBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
  });

  document.getElementById('cancelEditBedStatusBtn').addEventListener('click', function() {
    document.getElementById('editBedStatusCard').style.display = 'none';
  });

  // Edit Room Type Functions
  function showEditRoomTypeForm(id, name, description, isActive) {
    const editCard = document.getElementById('editRoomTypeCard');
    document.getElementById('editRoomTypeId').value = id;
    document.getElementById('editRoomTypeName').value = name;
    document.getElementById('editRoomTypeDescription').value = description || '';
    document.getElementById('editRoomTypeActive').checked = isActive;
    editCard.style.display = 'block';
    document.getElementById('editRoomTypeName').focus();
    
    // Hide add form if open
    document.getElementById('addRoomTypeCard').style.display = 'none';
    document.getElementById('showAddRoomTypeBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
    
    // Scroll to the form
    editCard.scrollIntoView({ behavior: 'smooth' });
  }

  // Edit Bed Status Functions
  function showEditBedStatusForm(id, name) {
    const editCard = document.getElementById('editBedStatusCard');
    document.getElementById('editBedStatusId').value = id;
    document.getElementById('editBedStatusName').value = name;
    editCard.style.display = 'block';
    document.getElementById('editBedStatusName').focus();
    
    // Hide add form if open
    document.getElementById('addBedStatusCard').style.display = 'none';
    document.getElementById('showAddBedStatusBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
    
    // Scroll to the form
    editCard.scrollIntoView({ behavior: 'smooth' });
  }

  // Handle edit room type buttons
  document.querySelectorAll('.edit-room-type-btn').forEach(function(button) {
    button.addEventListener('click', function() {
      const id = this.dataset.id;
      const name = this.dataset.name;
      const description = this.dataset.description;
      const isActive = this.dataset.active === 'True';
      showEditRoomTypeForm(id, name, description, isActive);
    });
  });

  // Handle edit bed status buttons
  document.querySelectorAll('.edit-bed-status-btn').forEach(function(button) {
    button.addEventListener('click', function() {
      const id = this.dataset.id;
      const name = this.dataset.name;
      showEditBedStatusForm(id, name);
    });
  });

  // Handle delete room type buttons
  document.querySelectorAll('.delete-room-type-btn').forEach(function(button) {
    button.addEventListener('click', function() {
      const id = this.dataset.id;
      const name = this.dataset.name;
      
      Swal.fire({
        title: 'Êtes-vous sûr?',
        text: `Voulez-vous vraiment supprimer le type de chambre "${name}"?`,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Oui, supprimer!',
        cancelButtonText: 'Annuler'
      }).then((result) => {
        if (result.isConfirmed) {
          const form = document.createElement('form');
          form.method = 'POST';
          form.action = '{% url "hosting:hosting_configuration" %}';
          
          const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;
          form.innerHTML = `
            <input type="hidden" name="csrfmiddlewaretoken" value="${csrfToken}">
            <input type="hidden" name="form_type" value="delete_room_type">
            <input type="hidden" name="id" value="${id}">
          `;
          
          document.body.appendChild(form);
          form.submit();
        }
      });
    });
  });

  // Handle delete bed status buttons
  document.querySelectorAll('.delete-bed-status-btn').forEach(function(button) {
    button.addEventListener('click', function() {
      const id = this.dataset.id;
      const name = this.dataset.name;
      
      Swal.fire({
        title: 'Êtes-vous sûr?',
        text: `Voulez-vous vraiment supprimer le statut de lit "${name}"?`,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Oui, supprimer!',
        cancelButtonText: 'Annuler'
      }).then((result) => {
        if (result.isConfirmed) {
          const form = document.createElement('form');
          form.method = 'POST';
          form.action = '{% url "hosting:hosting_configuration" %}';
          
          const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;
          form.innerHTML = `
            <input type="hidden" name="csrfmiddlewaretoken" value="${csrfToken}">
            <input type="hidden" name="form_type" value="delete_bed_status">
            <input type="hidden" name="id" value="${id}">
          `;
          
          document.body.appendChild(form);
          form.submit();
        }
      });
    });
  });

  // Handle table search for room types
  document.getElementById('searchRoomTypes').addEventListener('input', function() {
    const searchText = this.value.toLowerCase();
    const rows = document.querySelectorAll('#roomTypesTable tbody tr');
    rows.forEach(function(row) {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(searchText) ? '' : 'none';
    });
  });

  // Handle table search for bed statuses
  document.getElementById('searchBedStatuses').addEventListener('input', function() {
    const searchText = this.value.toLowerCase();
    const rows = document.querySelectorAll('#bedStatusTable tbody tr');
    rows.forEach(function(row) {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(searchText) ? '' : 'none';
    });
  });

  // Handle select all checkboxes
  document.getElementById('selectAllRoomTypes').addEventListener('change', function() {
    const checkboxes = document.querySelectorAll('#roomTypesTable .row-check');
    const self = this;
    checkboxes.forEach(function(cb) {
      cb.checked = self.checked;
    });
  });

  document.getElementById('selectAllBedStatuses').addEventListener('change', function() {
    const checkboxes = document.querySelectorAll('#bedStatusTable .row-check');
    const self = this;
    checkboxes.forEach(function(cb) {
      cb.checked = self.checked;
    });
  });

  // Handle tab switching - hide forms when switching tabs
  document.querySelectorAll('[data-bs-toggle="tab"]').forEach(function(tab) {
    tab.addEventListener('shown.bs.tab', function() {
      // Hide all forms when switching tabs
      document.getElementById('addRoomTypeCard').style.display = 'none';
      document.getElementById('editRoomTypeCard').style.display = 'none';
      document.getElementById('addBedStatusCard').style.display = 'none';
      document.getElementById('editBedStatusCard').style.display = 'none';
      
      // Reset button texts
      document.getElementById('showAddRoomTypeBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
      document.getElementById('showAddBedStatusBtn').innerHTML = '<i class="fas fa-plus"></i> <span class="d-none d-lg-inline ms-1">Ajouter</span>';
    });
  });
});
</script>

<style>
.card-header-primary {
  background-color: #1e90ff !important;
  color: white !important;
}

#addRoomTypeCard, #editRoomTypeCard, #addBedStatusCard, #editBedStatusCard {
  display: none;
}
</style>
{% endblock %}

{% block content %}
<div class="content">
  <div class="card mb-4">
    <div class="card-header text-white" style="background-color: #1e90ff;">
      <i class="fas fa-cog me-2"></i>
      Configuration Hébergement
    </div>
    <div class="card-body">
      <ul class="nav nav-tabs mb-3" id="configTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="room-types-tab" data-bs-toggle="tab" data-bs-target="#room-types" type="button" role="tab" aria-controls="room-types" aria-selected="true">Types de chambres</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="bed-statuses-tab" data-bs-toggle="tab" data-bs-target="#bed-statuses" type="button" role="tab" aria-controls="bed-statuses" aria-selected="false">Statuts des lits</button>
        </li>
      </ul>

      <div class="tab-content" id="configTabContent">
        <!-- Room Types Tab -->
        <div class="tab-pane fade show active" id="room-types" role="tabpanel" aria-labelledby="room-types-tab">
          
          <!-- Add Room Type Form Card -->


          <!-- Room Types List -->
          <div class="row mb-3">
            <div class="col-12 col-md-4 col-lg-3">
              <div class="input-group">
                <span class="input-group-text text-white border-primary" style="background-color: #1e90ff;">
                  <i class="fas fa-search"></i>
                </span>
                <input type="search" class="form-control border-primary" id="searchRoomTypes" placeholder="Rechercher un type de chambre...">
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3">
              <div class="d-flex gap-1">
                <button type="button" class="btn btn-light border w-100 text-nowrap px-2">
                  <i class="fas fa-file-import"></i>
                  <span class="d-none d-lg-inline ms-1">Importer</span>
                </button>
                <button type="button" class="btn btn-primary w-100 text-nowrap px-2" id="showAddRoomTypeBtn">
                  <i class="fas fa-plus"></i>
                  <span class="d-none d-lg-inline ms-1">Ajouter</span>
                </button>
              </div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-striped table-hover" id="roomTypesTable">
              <thead class="table-light borderless">
                <tr>
                  <th><input type="checkbox" id="selectAllRoomTypes"></th>
                  <th>Libellé</th>
                  <th>Description</th>
                  <th>Actif</th>
                  <th class="text-center">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for room_type in room_types %}
                  <tr>
                    <td><input type="checkbox" class="row-check"></td>
                    <td>{{ room_type.name }}</td>
                    <td>{{ room_type.description|default:"—" }}</td>
                    <td>
                      <span class="badge {% if room_type.is_active %}bg-success{% else %}bg-secondary{% endif %}">
                        {{ room_type.is_active|yesno:"Actif,Inactif" }}
                      </span>
                    </td>
                    <td class="text-center">
                      <div class="d-flex gap-1 justify-content-center">
                        <button class="btn btn-sm btn-light border text-dark edit-room-type-btn" 
                                title="Modifier"
                                data-id="{{ room_type.id }}"
                                data-name="{{ room_type.name }}"
                                data-description="{{ room_type.description }}"
                                data-active="{{ room_type.is_active }}">
                          <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-light border text-danger delete-room-type-btn" 
                                title="Supprimer"
                                data-id="{{ room_type.id }}"
                                data-name="{{ room_type.name }}">
                          <i class="fas fa-trash-alt"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                {% empty %}
                  <tr>
                    <td colspan="5" class="text-center py-3">
                      <i class="fas fa-door-open text-muted me-2"></i>
                      Aucun type de chambre configuré
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>

<nav class="mt-3">
  <ul class="pagination justify-content-center flex-wrap">
    {% if room_types.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?room_type_page={{ room_types.previous_page_number }}{% if bed_statuses.number %}&bed_status_page={{ bed_statuses.number }}{% endif %}">&laquo; Préc</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&laquo; Préc</span></li>
    {% endif %}
    {% for num in room_types.paginator.page_range %}
      <li class="page-item {% if room_types.number == num %}active{% endif %}">
        <a class="page-link" href="?room_type_page={{ num }}{% if bed_statuses.number %}&bed_status_page={{ bed_statuses.number }}{% endif %}">{{ num }}</a>
      </li>
    {% endfor %}
    {% if room_types.has_next %}
      <li class="page-item">
        <a class="page-link" href="?room_type_page={{ room_types.next_page_number }}{% if bed_statuses.number %}&bed_status_page={{ bed_statuses.number }}{% endif %}">Suiv &raquo;</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">Suiv &raquo;</span></li>
    {% endif %}
  </ul>
</nav>
        </div>
                  <div class="card mb-4" id="addRoomTypeCard">
            <div class="card-header card-header-primary">
              <i class="fas fa-plus me-2"></i>
              Ajouter un type de chambre
            </div>
            <div class="card-body">
              <form method="post" action="{% url 'hosting:hosting_configuration' %}">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="room_type">
                <div class="row g-3">
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Nom :</label>
                    <div class="input-group">
                      <span class="input-group-text"><i class="fas fa-door-open"></i></span>
                      <input type="text" name="name" id="addRoomTypeName" class="form-control" placeholder="Ex: Chambre simple, Suite..." required>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Statut :</label>
                    <select name="is_active" class="form-select" title="Choisir un statut">
                      <option value="True" selected>Actif</option>
                      <option value="False">Inactif</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Description :</label>
                    <textarea name="description" class="form-control" rows="3" placeholder="Description du type de chambre..."></textarea>
                  </div>
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-end mt-4">
                  <button type="button" class="btn btn-secondary btn-sm" id="cancelAddRoomTypeBtn">
                    <i class="fas fa-times"></i>
                    <span class="d-none d-sm-inline ms-1">Annuler</span>
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fas fa-save"></i>
                    <span class="d-none d-sm-inline ms-1">Enregistrer</span>
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- Edit Room Type Form Card -->
          <div class="card mb-4" id="editRoomTypeCard">
            <div class="card-header card-header-primary">
              <i class="fas fa-edit me-2"></i>
              Modifier le type de chambre
            </div>
            <div class="card-body">
              <form method="post" action="{% url 'hosting:hosting_configuration' %}">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="edit_room_type">
                <input type="hidden" name="id" id="editRoomTypeId">
                <div class="row g-3">
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Nom :</label>
                    <div class="input-group">
                      <span class="input-group-text"><i class="fas fa-door-open"></i></span>
                      <input type="text" name="name" id="editRoomTypeName" class="form-control" required>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Statut :</label>
                    <select name="is_active" id="editRoomTypeActive" class="form-select">
                      <option value="True">Actif</option>
                      <option value="False">Inactif</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Description :</label>
                    <textarea name="description" id="editRoomTypeDescription" class="form-control" rows="3"></textarea>
                  </div>
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-end mt-4">
                  <button type="button" class="btn btn-secondary btn-sm" id="cancelEditRoomTypeBtn">
                    <i class="fas fa-times"></i>
                    <span class="d-none d-sm-inline ms-1">Annuler</span>
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fas fa-save"></i>
                    <span class="d-none d-sm-inline ms-1">Modifier</span>
                  </button>
                </div>
              </form>
            </div>
          </div>

        <!-- Bed Statuses Tab -->
        <div class="tab-pane fade" id="bed-statuses" role="tabpanel" aria-labelledby="bed-statuses-tab">
          


          <!-- Bed Statuses List -->
          <div class="row mb-3">
            <div class="col-12 col-md-4 col-lg-3">
              <div class="input-group">
                <span class="input-group-text text-white border-primary" style="background-color: #1e90ff;">
                  <i class="fas fa-search"></i>
                </span>
                <input type="search" class="form-control border-primary" id="searchBedStatuses" placeholder="Rechercher un statut de lit...">
              </div>
            </div>
            <div class="col-12 col-md-4 col-lg-3">
              <div class="d-flex gap-1">
                <button type="button" class="btn btn-light border w-100 text-nowrap px-2">
                  <i class="fas fa-file-import"></i>
                  <span class="d-none d-lg-inline ms-1">Importer</span>
                </button>
                <button type="button" class="btn btn-primary w-100 text-nowrap px-2" id="showAddBedStatusBtn">
                  <i class="fas fa-plus"></i>
                  <span class="d-none d-lg-inline ms-1">Ajouter</span>
                </button>
              </div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-striped table-hover" id="bedStatusTable">
              <thead class="table-light borderless">
                <tr>
                  <th><input type="checkbox" id="selectAllBedStatuses"></th>
                  <th>Libellé</th>
                  <th class="text-center">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for bed_status in bed_statuses %}
                  <tr>
                    <td><input type="checkbox" class="row-check"></td>
                    <td>{{ bed_status.name }}</td>
                    <td class="text-center">
                      <div class="d-flex gap-1 justify-content-center">
                        <button class="btn btn-sm btn-light border text-dark edit-bed-status-btn" 
                                title="Modifier"
                                data-id="{{ bed_status.id }}"
                                data-name="{{ bed_status.name }}">
                          <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-light border text-danger delete-bed-status-btn" 
                                title="Supprimer"
                                data-id="{{ bed_status.id }}"
                                data-name="{{ bed_status.name }}">
                          <i class="fas fa-trash-alt"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                {% empty %}
                  <tr>
                    <td colspan="3" class="text-center py-3">
                      <i class="fas fa-bed text-muted me-2"></i>
                      Aucun statut de lit configuré
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
<nav class="mt-3">
  <ul class="pagination justify-content-center flex-wrap">
    {% if bed_statuses.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?bed_status_page={{ bed_statuses.previous_page_number }}{% if room_types.number %}&room_type_page={{ room_types.number }}{% endif %}">&laquo; Préc</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&laquo; Préc</span></li>
    {% endif %}
    {% for num in bed_statuses.paginator.page_range %}
      <li class="page-item {% if bed_statuses.number == num %}active{% endif %}">
        <a class="page-link" href="?bed_status_page={{ num }}{% if room_types.number %}&room_type_page={{ room_types.number }}{% endif %}">{{ num }}</a>
      </li>
    {% endfor %}
    {% if bed_statuses.has_next %}
      <li class="page-item">
        <a class="page-link" href="?bed_status_page={{ bed_statuses.next_page_number }}{% if room_types.number %}&room_type_page={{ room_types.number }}{% endif %}">Suiv &raquo;</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">Suiv &raquo;</span></li>
    {% endif %}
  </ul>
</nav>
                    <!-- Add Bed Status Form Card -->
          <div class="card mb-4" id="addBedStatusCard">
            <div class="card-header card-header-primary">
              <i class="fas fa-plus me-2"></i>
              Ajouter un statut de lit
            </div>
            <div class="card-body">
              <form method="post" action="{% url 'hosting:hosting_configuration' %}">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="bed_status">
                <div class="row g-3">
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Nom du statut :</label>
                    <div class="input-group">
                      <span class="input-group-text"><i class="fas fa-bed"></i></span>
                      <input type="text" name="name" id="addBedStatusName" class="form-control" placeholder="Ex: Disponible, Occupé..." required>
                    </div>
                  </div>
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-end mt-4">
                  <button type="button" class="btn btn-secondary btn-sm" id="cancelAddBedStatusBtn">
                    <i class="fas fa-times"></i>
                    <span class="d-none d-sm-inline ms-1">Annuler</span>
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fas fa-save"></i>
                    <span class="d-none d-sm-inline ms-1">Enregistrer</span>
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- Edit Bed Status Form Card -->
          <div class="card mb-4" id="editBedStatusCard">
            <div class="card-header card-header-primary">
              <i class="fas fa-edit me-2"></i>
              Modifier le statut de lit
            </div>
            <div class="card-body">
              <form method="post" action="{% url 'hosting:hosting_configuration' %}">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="edit_bed_status">
                <input type="hidden" name="id" id="editBedStatusId">
                <div class="row g-3">
                  <div class="col-12 col-sm-6 col-md-4">
                    <label class="form-label">Nom du statut :</label>
                    <div class="input-group">
                      <span class="input-group-text"><i class="fas fa-bed"></i></span>
                      <input type="text" name="name" id="editBedStatusName" class="form-control" required>
                    </div>
                  </div>
                </div>
                <div class="d-flex flex-wrap gap-2 justify-content-end mt-4">
                  <button type="button" class="btn btn-secondary btn-sm" id="cancelEditBedStatusBtn">
                    <i class="fas fa-times"></i>
                    <span class="d-none d-sm-inline ms-1">Annuler</span>
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    <i class="fas fa-save"></i>
                    <span class="d-none d-sm-inline ms-1">Modifier</span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CSRF Token for JavaScript -->
<input type="hidden" name="csrfmiddlewaretoken" value="{% csrf_token %}">
{% endblock %}